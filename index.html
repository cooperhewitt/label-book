<html>
<head>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="theme.css">
</head>
<body>
<div id="main"></div>	
	
<script type="text/javascript">
$(document).ready( function() {

var token = "f938b82a99bfa65ad950b7bc8a37f518";
var ch="https://api.collection.cooperhewitt.org/rest/?method=cooperhewitt.exhibitions.getObjects&access_token=" + token + "&exhibition_id=68744915&page=1&per_page=100";

	$.getJSON(ch, function (json) {
		var item = json.objects;
		console.log(item.length);
				 
// 		For loop iterates through the variable 'list', which contain all the objects 
		for(var i=0; i<item.length; i++){
		    
// 			IMAGES
			var images = item[i].images;
			if (images != false){
				var imgURL = images[0].n.url;
			} else {
			}			
			
// 			TITLE
			if (item[i].title_raw){
				var title = item[i].title_raw;
			} else {
				var title = item[i].title;
			}




// 			DATE
			if (item[i].date){
				var date = item[i].date;
			}
		
// 			PARTICIPANTS
			if (item[i].participants){
				var part = item[i].participants;
				
				for(var x=0; x<part.length; x++){
					var role_name = part[x].role_name;
					if (role_name === "Designer"){
						var partDesigner = part[x].role_display_name + " " + part[x].person_name;
					}
					
					if (role_name === "Manufacturer"){
						var partManufacturer = part[x].role_display_name + " " + part[x].person_name;
					}
				}	
			}

// 			MEDIUM
			if (item[i].medium){
				var medium = item[i].medium;
			}
		
// 			CREDITLINE
			if (item[i].creditline){
				var creditline = item[i].creditline;
			}					
								
// 			LABEL TEXT
			if (item[i].label_text){
				var label = item[i].label_text;
				}

// 			TAGS
			objId = item[i].id;	
			var ch_tags="https://api.collection.cooperhewitt.org/rest/?method=cooperhewitt.objects.tags.getTags&access_token=" + token + "&object_id=" + objId + "&page=1&per_page=100";
			$.getJSON(ch_tags, function (json) {
				var item_tags = json.tags;
				console.log(objId);		
					for (var tt=0; tt<item_tags.length; tt++){
						var tag_name = item_tags[tt].name;
					}
			});// .getjson
			
			
		
		    var div = document.createElement("div");
		    	div.className = "object";   
		    var h1 = document.createElement("h1");
		    var h2 = document.createElement("h2");
		    var p = document.createElement("p");
		    var ul = document.createElement('ul');
		    	ul.className = "info";
			
				
			h1.innerHTML = h1.innerHTML + title;
			h2.innerHTML = h2.innerHTML + date;
			p.innerHTML = p.innerHTML + label;
			
			var infoArray = [partDesigner, partManufacturer, medium, creditline];
			for (var w=0; w<infoArray.length; w++){
			
			    var li=document.createElement('li');
			    ul.appendChild(li);
			    li.innerHTML=li.innerHTML + infoArray[w];
			}
			
			div.appendChild(h1);
			div.appendChild(h2);
			div.appendChild(ul);
			div.appendChild(p);
	    
		    document.getElementById("main").appendChild(div);
			
		} // for loop to go through objects
	});// .getjson
	console.log(date);
});// document.ready
</script>

</body>
</html>